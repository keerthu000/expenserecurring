{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>
    
    
    .form-check {
      margin-bottom: 10px;
    }
    
    /* style submit button */
    button[type="submit"] {
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    
    button[type="submit"]:hover {
      background-color: #0069d9;
    }
    /* Style for the highlighted account type options */
  option.highlight-account-type {
    background-color: #f3f3f3; /* Example background color */
    color: #666; /* Example text color */
    font-weight: bold; /* Example font weight */
    /* Add any other styles you want to customize the look of the highlighted account type options */
  }
  
  /* Additional style for hovering over the highlighted account type options (optional) */
  option.highlight-account-type:hover {
    background-color: #f5f5f5; /* Example hover background color */
    /* Add any other styles you want for the hover state */
  }
  .highlight-account-type {
    text-align: left;
    padding-left: 10px;
  }
  
  </style>

<div class="fixed-top" style="top: 8rem; margin-left: 18rem;" >
<div style="height: 600px; overflow-y: scroll;overflow-x: clip;">
  <form action="{% url 'add_expense' %}" method="post" onsubmit="return validateForm()">
    {% csrf_token %}
    {% comment %} <div class="form-group">
      <label for="profile_name">Profile Name</label>
      <input type="text"  id="profile_name" name="profile_name">
    </div> {% endcomment %}


    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Profile Name</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
           <input  type="text" class="form-control bg-white text-dark"  name="profile_name" required>     
           <div class="invalid-feedback">Please fill out this field.</div>   

       </div>
   </div>


   <div class="form-group row mt-4">
    <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Repeat Every</label></div>
    <div class="col-sm-12 col-md-6 col-lg-6">
      <select class="form-control bg-white text-dark" id="repeat_every" name="repeat_every" >
        <option value="Week" disabled>Week</option>
        <option value="2 Weeks">2 Weeks</option>
        <option value="Month" disabled>Month</option>
        <option value="2 Months">2 Months</option>
        <option value="3 Months">3 Months</option>
        <option value="6 Months">6 Months</option>
        <option value="Year" disabled>Year</option>
        <option value="2 Years">2 Years</option>
        <option value="3 Years">3 Years</option>
      </select>      
    </div>
  </div>

  <div class="form-group row mt-4">
    <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Start Date</label></div>
     <div class="col-sm-12 col-md-6 col-lg-6">
      <input type="date"  id="start_date" name="start_date" class="form-control bg-white text-dark" style="background-color:#2c2e33;color:black;">
    </div>
  </div>

  <div class="form-group row mt-4">
    <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
        <label>Ends On</label>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-6">
        <input type="date" id="ends_on" name="ends_on" class="form-control bg-white text-dark" style="background-color:#2c2e33;color:black;" {% if never_expire %}disabled{% endif %}>
    </div>
    <div style="margin-left:318px;">
        <div class="form-check">
            <input type="checkbox" id="never_expire" name="never_expire" class="form-check-input" {% if never_expire %}checked{% endif %}>
            <label class="form-check-label" for="never_expire">Never Expire</label>
          </div>
    </div>
</div>




  <div class="form-group row mt-4">
    <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Expence Account</label></div>
     <div class="col-sm-12 col-md-6 col-lg-6">
      <div class="input-group">
        <select class="form-control bg-white text-dark" id="expense_account" name="expense_account" >
           
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Other Current Asset</b></option>
            <option value="Advance Tax" >Advance Tax</option>
            <option value="Employee Advance" >Employee Advance </option>
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Fixed Asset</b></option>
            <option value="Furniture and Equipments" >Furniture and Equipments</option>    
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Other Current Liablity</b></option>                    
            <option value="Employee Reimbursements">Employee Reimbursements</option>
           
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Expense</b></option>
            <option value="Advertising and Marketing" >Advertising and Marketing</option>
            <option value="Automobile Expense" >Automobile Expense</option>
        </select>

        <div class="input-group-append">
          <button class="btn btn-primary" type="button" id="expense_account" data-toggle="modal" data-target="#create_account"  style="height:38px;text-decoration: none;">New Account</button>
        </div>
        <form action="{% url 'create_account'%}" method="POST" enctype="multipart/form-data">
          {% csrf_token%}
          <div class="modal" id="create_account">
            <div class="modal-dialog modal-xl modal-dialog-centered " role="document">
              <div class="modal-content modal-xl p-5" style="background-color: #000000;">
                <div class="modal-header">
                  <h5 class="modal-title text-info">Create Account</h5>
                  <button type="button" class="close text-light" data-dismiss="modal" aria-label=""
                    style="font-size: 20px;background-color: #000000;border:none;">
                    <span aria-hidden="true">&times;</span> 
                  </button>
                </div>
                <div class="row mt-4">
                  <div class="col-sm-8">             
            <div class="row">
              <div class="col-sm-4">
                <label for="">Account Type:</label>
              </div>
              <div class="col-sm-8">
                <div class="select-box1" onclick="message()">
                  <div class="select-option1" >
                    <input type="text" placeholder="select" id="soValue1" name="account_type"  readonly>
                  </div>
                  <div class="content1" id="myDropdown1">
                    <div class="search1">
                      <input type="text" placeholder="search" id="myInput1" onkeyup="filterFunction1()">
                    </div>
                    <ul class="options1">
                      <div class="opt">
                        <span style="font-weight: bold;">Assets</span>
                       <li>Other Assets</li>
                       <li>Other Current Assets</li>
                       <li>Cash</li>
                       <li>Bank</li>
                       <li>Fixed Asset</li>
                       <li>Stock</li>
                       <li>Payment Clearing</li>
                      </div>
                      
                       <div class="opt">
                        <span style="font-weight: bold;">Liability</span>
                       <li>Other Liability</li>
                       <li>Other Current Liability</li>
                       <li>Credit Card</li>
                       <li>Long Term Liability</li>
                       <li>Overseas Tax Payable</li>
                      </div>
        
                       <div class="opt">
                        <span style="font-weight: bold;">Equity</span>
                       <li>Equity</li>                  
                       </div>
        
                       <div class="opt">
                        <span style="font-weight: bold;">Income</span>
                       <li>Income</li>   
                       <li>Other Income</li>               
                       </div>
        
                       <div class="opt">
                        <span style="font-weight: bold;">Expense</span>
                       <li>Expense</li>   
                       <li>Cost Of Goods Sold</li>  
                       <li>Other Expense</li>             
                       </div>
                    </ul>
                    
                   
        
                  </div>
                </div>
               
              </div>
             
              <script>
                const selectBox1=document.querySelector('.select-box1');
                const selectOption1=document.querySelector('.select-option1');
                const optionsList1=document.querySelectorAll('.options1 li');
                const soValue1=document.querySelector('#soValue1');
          
                selectOption1.addEventListener('click',function(){
                  selectBox1.classList.toggle('active')
                })
          
                optionsList1.forEach(function(optionsListSingle){
                  optionsListSingle.addEventListener('click',function(){
                    text=this.textContent;
                    soValue1.value=text;
                    selectBox1.classList.remove('active')
          
                  })
                })
              </script>
            </div>            
                    <div id="name" style="display: block;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Account Name:</label>
                        </div>
                        <div class="col-sm-8">
                          <input type="text" class="form-control text-dark bg-light" name="account_name" id="account_name" required>
                        </div>
                      </div>
                    </div> 
        
                    <div id="credit" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Credit Card Name:</label>
                        </div>
                        <div class="col-sm-8">
                          <input type="text" class="form-control text-dark bg-light" name="credit_number" id="credit_number">
                        </div>
                      </div>
                    </div>
      
              <!-- ...................   checkbox............................. --> 
              <div id="sub_div" style="display: none;">
      
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
      
                      <div class="col-sm-8">
      
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent()" name="sub_account" id="sub_account">
        
                          <label for="">Make this a sub-account</label>
      
                    </div>
                    </div>
                  </div>
      
                  <div id="sub_div22" style="display: none;">
      
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
      
                      <div class="col-sm-8">
      
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent22()" name="sub_account22" id="sub_account22">
        
                          <label for="">Make this a sub-account</label>
      
                    </div>
                    </div>
                  </div>
      
                  <div id="sub_div33" style="display: none;">
      
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
      
                      <div class="col-sm-8">
      
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent33()" name="sub_account33" id="sub_account33">
        
                          <label for="">Make this a sub-account</label>
      
                    </div>
                    </div>
                  </div>
      
                  <div id="sub_div44" style="display: none;">
      
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
      
                      <div class="col-sm-8">
      
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent44()" name="sub_account44" id="sub_account44">
        
                          <label for="">Make this a sub-account</label>
      
                    </div>
                    </div>
                  </div>
      
                  <div id="sub_div55" style="display: none;">
      
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
      
                      <div class="col-sm-8">
      
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent55()" name="sub_account55" id="sub_account55">
        
                          <label for="">Make this a sub-account</label>
      
                    </div>
                    </div>
                  </div>
      
      
                  <div id="sub_div66" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent66()" name="sub_account66" id="sub_account66"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
      
      
                  <div id="sub_div77" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent77()" name="sub_account77" id="sub_account77"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
      
      
                  <div id="sub_div88" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent88()" name="sub_account88" id="sub_account88"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
                  <div id="sub_div99" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent99()" name="sub_account99" id="sub_account99"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
                  <div id="sub_div100" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent100()" name="sub_account100" id="sub_account100"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
                  <div id="sub_div111" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent111()" name="sub_account111" id="sub_account111"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
                  <div id="sub_div222" style="display: none;">
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                          <input type="checkbox" class=" text-dark bg-light" onclick="show_parent222()" name="sub_account222" id="sub_account222"> 
                          <label for="">Make this a sub-account</label>
                      </div>
                    </div>
                  </div>
      
      
      
      
       <!-- ..........................  checkbox ............................. -->
      
                    <div id="parent_div" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account" id="parent_account">
                            <option value="" class="bg-dark text-light text-center" disabled>Other Current Assets</option>
                            <option value="" selected></option>
                            <option value="Advance Tax">Advance Tax</option>
                            <option value="Employee Advance">Employee Advance</option>
                            <option value="Prepaid Expenses">Prepaid Expenses</option>
                            <option value="GST TCS Receivable">GST TCS Receivable</option>
                            <option value="GST TDS Receivable">GST TCS Receivable</option>
                            <option value="Input Tax Credits">Input Tax Credits</option>
                              <option value="Input CGST">&nbsp; &nbsp;&nbsp;Input CGST</option>
                              <option value="Input IGST"> &nbsp; &nbsp;&nbsp;Input IGST</option>
                              <option value="Input SGST">&nbsp; &nbsp;&nbsp;Input SGST</option>
      
                            
                            <option value="Reverse Charge Tax Input but no due">Reverse Charge Tax Input but no due</option>
                            <option value="Sales to Customers(Cash)">Sales to Customers(Cash)</option>
      
      
                            <option value="TDS Receivable">TDS Receivable</option>
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div22" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account22" id="parent_account22">
                            <option value="" class="bg-dark text-light text-center" disabled>Cash</option>
                            <option value="" class="bg-dark text-light text-center" selected></option>
      
                            <option value="Petty Cash">Petty Cash</option>
                            <option value="Undeposited Fund">Undeposited Fund</option>
                            
                          </select>
                        </div>
                      </div>
                    </div>
      
                    <div id="parent_div33" style="display:none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account33" id="parent_account33">
                            <option value="" class="bg-dark text-light text-center" disabled>Fixed Asset</option>
                            <option value="" class="bg-dark text-light text-center" selected></option>
      
                            <option value="Furniture and Equipment">Furniture and Equipment</option>
                            
                          </select>
                        </div>
                      </div>
                    </div>
                    
      
      
                    <div id="parent_div44" style="display:none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account44" id="parent_account44">
                            <option value="" class="bg-dark text-light text-center" disabled>Stock</option>
                            <option value="" class="bg-dark text-light text-center" selected></option>
      
                            <option value="Inventory Asset">Inventory Asset</option>
                            
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div55" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account55" id="parent_account55">
                            <option value="" class="bg-dark text-light text-center" disabled>Other Current Liability</option>
                            <option value="" class="bg-dark text-light text-center" selected></option>
      
                            <option value="Employee Reimbursements">Employee Reimbursements</option>
                            <option value="Opening Balance Adjustments">Opening Balance Adjustments</option>
                            <option value="Tax Payable">Tax Payable</option>
                            <option value="Unearned Revenue">Unearned Revenue</option>
                            <option value="GST Payable">GST Payable</option>
                              <option value="Output CGST">&nbsp;&nbsp;&nbsp;Output CGST</option>
                              <option value="Output IGST">&nbsp;&nbsp;&nbsp;Output IGST</option>
                              <option value="Output SGST">&nbsp;&nbsp;&nbsp;Output SGST</option>
                            <option value="TDS Payable">TDS Payable</option>
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div66" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">                
                          <select class="form-control text-dark bg-light" name="parent_account66" id="parent_account66">
                            <option value="" class="bg-dark text-light text-center" disabled>Long Term Liability</option>
                            <option value="" selected></option>
                            <option value="Construction Loans">Construction Loans</option>
                            <option value="Mortgages">Mortgages</option>
      
                            
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div77" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">               
                          <select class="form-control text-dark bg-light" name="parent_account77" id="parent_account77">
                            <option value="" class="bg-dark text-light text-center" disabled>Other Liability</option>
                            <option value="" selected></option>
                            <option value="Tag Adjustments">Tag Adjustments</option>                     
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div88" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account88" id="parent_account88">
                            <option value="" class="bg-dark text-light text-center" disabled>Equity</option>
                            <option value="" selected></option>
                            <option value="Drawings">Drawings</option>                     
                            <option value="Opening Balance Offset">Opening Balance Offset</option>                     
                            <option value="Owner's Equity">Owner's Equity</option>                     
                            <option value="Retained Earnings">Retained Earnings</option>                     
                            <option value="Capital Stock">Capital Stock</option>                     
                            <option value="Distributions">Distributions</option>  
                            <option value="Dividends Paid">Dividends Paid</option>                     
                            <option value="Investments">Investments</option>                     
                        
                          </select>
                        </div>
                      </div>
                    </div>
      
      
                    <div id="parent_div99" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">               
                          <select class="form-control text-dark bg-light" name="parent_account99" id="parent_account99">
                            <option value="" class="bg-dark text-light text-center" disabled>Income</option>
                            <option value="" selected></option>
                            <option value="Discount">Discount</option>                     
                            <option value="General Income">General Income</option>                     
                            <option value="Interest Income">Interest Income</option>                     
                            <option value="Late Fee Income">Late Fee Income</option>                     
                            <option value="Other Charges">Other Charges</option>                     
                            <option value="sales">sales</option>  
                            <option value="Shipping Charge">Shipping Charge</option>                     
                          </select>
                        </div>
                      </div>
                    </div>
      
      
      
                    <div id="parent_div100" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">               
                          <select class="form-control text-dark bg-light" name="parent_account100" id="parent_account100">
                            <option value="" class="bg-dark text-light text-center" disabled>Expense</option>
                            <option value="" selected></option>
                            <option value="Discount">Discount</option>                     
                            <option value="Advertising and Marketing">Advertising and Marketing</option>                     
                            <option value="Automobile Expense">Automobile Expense</option>                     
                            <option value="Bad Debt">Bad Debt</option>                     
                            <option value="Bank Fees and Charges">Bank Fees and Charges</option>                     
                            <option value="Consultant Expense">Consultant Expense</option>  
                            <option value="Credit Card Charges">Credit Card Charges</option> 
                            <option value="Depreciation Expense">Depreciation Expense</option>                     
                            <option value="IT and Internet Expenses">IT and Internet Expenses</option>                     
                            <option value="Ganitorial Expense">Ganitorial Expense</option>                     
                            <option value="Lodging">Lodging</option>                     
                            <option value="Meals and Entertainment">Meals and Entertainment</option> 
                            <option value="Office Supplies">Office Supplies</option>                     
                            <option value="Other Expenses">Other Expenses</option>                     
                            <option value="Postage">Postage</option>                     
                            <option value="Printing and Stationery">Printing and Stationery</option>                     
                            <option value="Rent Expense">Rent Expense</option>    
                            <option value="Repairs and Maintenance">Repairs and Maintenance</option>                     
                            <option value="Salaries and Employee Wages">Salaries and Employee Wages</option>                     
                            <option value="Telephone Expense">Telephone Expense</option>                     
                            <option value="Travel Expense">Travel Expense</option>                     
                            <option value="Uncategorized">Uncategorized</option>   
                            <option value="Contract Assets">Contract Assets</option>                     
                            <option value="Depreciation And Amortisation">Depreciation And Amortisation</option>                     
                            <option value="Merchandise">Merchandise</option>                     
                            <option value="Raw Materials And Consumables">Raw Materials And Consumables</option>                     
                            <option value="Transportation Expense">Uncategorized</option>                     
                          </select>
                        </div>
                      </div>
                    </div>
      
      
      
                    <div id="parent_div111" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account111" id="parent_account111">
                            <option value="" class="bg-dark text-light text-center" disabled>Cost Of Goods Sold</option>
                            <option value="" selected></option>
                            <option value="Cost Of Goods Sold">Cost Of Goods Sold</option>                     
                            <option value="Job Costing">Job Costing</option>                     
                            <option value="Labor">Labor</option>                     
                            <option value="Materials">Materials</option>                     
                            <option value="Subcontractor">Subcontractor</option>                     
                            
                          </select>
                        </div>
                      </div>
                    </div>
      
                    
                    <div id="parent_div222" style="display: none;">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Parent Account:</label>
                        </div>
                        <div class="col-sm-8">
                      
                          <select class="form-control text-dark bg-light" name="parent_account222" id="parent_account222">
                            <option value="" class="bg-dark text-light text-center" disabled>Other Expense</option>
                            <option value="" selected></option>
                            <option value="Cost Of Goods Sold">Exchange Gain or Loss</option>                     
                            
                          </select>
                        </div>
                      </div>
                    </div>
      
      
      
      
        
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for="">Account Code:</label>
                      </div>
                      <div class="col-sm-8">
                        <input type="text" class="form-control text-dark bg-light" name="account_code" id="account_code">
                      </div>
                    </div> 
                    <div style="display: none;" id="acc_bo_div">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Account Number:</label>
                        </div>
                        <div class="col-sm-8">
                          <input type="text" class="form-control text-dark bg-light" name="account_number" id="account_number">
                        </div>
                      </div>
                    </div>
        
                    <div style="display: none;" id="cr_div">
                      <div class="row mt-3">
                        <div class="col-sm-4">
                          <label for="">Currency:</label>
                        </div>
                        <div class="col-sm-8">
                          <input type="text" class="form-control text-dark bg-light" name="currency" id="currency">
                        </div>
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for="">Description:</label>
                      </div>
                      <div class="col-sm-8">
                        <textarea name="description" class="form-control text-dark bg-light" id="description" placeholder="Max. 500 characters"></textarea>
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-sm-4">
                        <label for=""></label>
                      </div>
                      <div class="col-sm-8">
                        <input type="checkbox" class=" text-dark bg-light" name="watchlist" id="watchlist">
          
                        <label for="">Add to the watchlist on my dashboardt</label>
                      </div>
                    </div>
        
                  </div>
        
                  <div class="col-sm-4">
                    <div class="alert alert-warning alert-dismissible fade show">
                      <span id="message_hd">Assets</span> <br>
                      <span id="message">Track special assets like goodwill and other intangible assets</span>
                      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div> 
                  </div>           
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <input class="btn btn-success" type="submit" value="Save">           
                    <input class="btn btn-light ml-3" type="reset" value="Cancel">
                  </div>
                </div> 
              </div>
            </div>
          </div>
        </form>
      

      </div>
    </div>
    </div>  

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="margin-top:8px;"><label>Expence Type</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6" style="display:flex;">
      <div class="form-check" >
        <input class="form-check-input" type="radio" name="expense_type" id="expense_type1" value="goods" >
        <label class="form-check-label" for="expense_type1">
          Goods
        </label>
      </div>
      <div class="form-check" style="margin-left:30px;">
        <input class="form-check-input" type="radio" name="expense_type" id="expense_type2" value="services" >
        <label class="form-check-label" for="expense_type2">
          Services
        </label>
      </div>
      <div class="form-group" id="goods-bottom" style="display:none" >
        <label for="goods-label" style="margin-top:54px;margin-left:-187px;">HSN</label>
        <input type="text" class="form-control bg-white text-dark" id="goods-label" name="goods_label" oninput="validateHSN(this)" style="margin-left: -187px;width: 600px;margin-top:5px;">
        <small id="hsn-error" class="text-danger"></small>
      </div>
      <div class="form-group" id="services-bottom" style="display:none;">
        <label for="services-label" style="margin-top:54px;margin-left:-187px;">SAC</label>
        <input type="text" class="form-control bg-white text-dark" id="services-label" name="services_label" oninput="validateSAC(this)" style="margin-left: -187px;width: 600px;margin-top:5px;">
        <small id="sac-error" class="text-danger"></small>
      </div>
    </div>
    </div>

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Amount</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
        <div class="input-group-prepend" style="margin-left:-151px;">
          <select class="form-control bg-white text-dark" id="currency" name="currency" style="width:50px; margin-left:151px;color:white;">
            <option value="INR" >INR</option>
          </select>
        </div>
        <option value="INR" ></option><input type="text"  id="amount" name="amount" class="form-control bg-white text-dark" style="background-color:#2c2e33;color:black;margin-top:-57px;width: 603px;margin-left: 48px;width: 547px;">
      </div>
    </div>
    

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Paid Through</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
        <select name="paidthrough" id="paidthrough" class="form-control bg-white text-dark" >
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Cash</b></option>
            <option value="Petty Cash" >Petty Cash</option>                          
            <option value="Undeposited Funds">Undeposited Funds</option>
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Other Current Asset</b></option>
            <option value="Advance Tax" >Advance Tax</option>
            <option value="Employee Advance" >Employee Advance </option>
            <option value="Prepaid Expenses" >Prepaid Expenses</option>
            <option value="" disabled class="btn btn text-dark   highlight-account-type"><b>Payment Clearing Account</b></option>
            <option value="Stripe Clearing" >Stripe Clearing</option>


        </select>
    </div>
    </div>
  

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Vendor</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
      <div class="input-group">
          <select class="form-control  bg-white text-dark" id="vendor" name="vendor" >
            {% for vendor in vendors %}
            <option value="{{vendor.pk}}" data-gst-number="{{vendor.gst_number}}" {% if vendor.pk|stringformat:"s" == selected_vendor_id %}selected{% endif %}>
              {{vendor.vendor_display_name}} 
            </option>
          {% endfor %}
          </select>
          <div class="input-group-append">
              <button class="btn btn-primary" type="button" id="vendor"
                  onclick="window.location.href='{% url 'vendor' %}'" style="height:38px;">Add new vendor</button>
          </div>
      </div>
    </div>
    
  
      
    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>GST Treatment</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
    <select name="gst" id="gst" class="form-control  bg-white text-dark" onchange="toggleTextBox()" style="margin-left: 6px; width: 602px;color:black;">
      <option value="" selected></option>
      <option value="Registered Business-Regular Business that is registered under GST">Registered Business-Regular Business that is registered under GST</option>
      <option value="Registered Business-Composition Business that is registered under the Composition scheme in GST">Registered Business-Composition Business that is registered under the Composition scheme in GST</option>
      <option value="Unregistered Business-not Registered under GST">Unregistered Business-not Registered under GST</option>
      <option value="Overseas- Persons with whom you do import or exports of supplies outside India">Overseas- Persons with whom you do import or exports of supplies outside India</option>
      <option value="Special Economic Zone">Special Economic Zone</option>
    </select><br>
    <div id="textboxContainer" style="display: none;">
      <input type="text" id="textbox" class="form-control" placeholder="Enter additional information" value="" style="background-color:#2c2e33;margin-left: 6px; width: 602px;color:black;">
    </div>
  </div>
</div>

  
<div class="form-group row mt-4">
  <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Destination of supply</label></div>
   <div class="col-sm-12 col-md-6 col-lg-6">
        <select name="destination" id="destination" class="form-control bg-white text-dark" style="margin-left: 6px; width: 602px;color:black;">
        <option value="value" selected></option>
      <option value="[AN]-Andaman And Nicobar Islands">[AN]-Andaman And Nicobar Islands</option> <option value="[AD]-Andhra Pradesh">[AD]-Andhra Pradesh</option>
      <option value="[AR]-Arunachal Pradesh">[AR]-Arunachal Pradesh	</option> <option value="[AS]-Assam">[AS]-Assam</option>
      <option value="[BR]-Bihar">[BR]-Bihar</option> <option value="[CH]-	Chandhigarh">[CH]-	Chandhigarh</option><option value="[CG]-Chattisgarh">[CG]-Chattisgarh</option>
      <option value="[DD]-Daman Diu">[DD]-Daman Diu</option><option value="[DL]-	Delhi">[DL]-	Delhi</option><option value="[GA]-Goa">[GA]-Goa</option> <option value="[GJ]-Gujarat">[GJ]-Gujarat</option>
      <option value="[HR]-Haryana">[HR]-Haryana</option> <option value="[HP]-Himachal Pradesh">[HP]-Himachal Pradesh</option>
      <option value="[JK]-Jammu And Kashmir">[JK]-Jammu And Kashmir</option><option value="[JH]-Jharkand">[JH]-Jharkand</option>
      <option value="[KA]-Karnataka">[KA]-Karnataka</option><option value="[KL]-Kerala">[KL]-Kerala</option>
      <option value="[LA]-Ladakh">[LA]-Ladakh</option><option value="[LD]-Lakshadweep">[LD]-Lakshadweep</option>
      <option value="[MP]-Madhyapradesh">[MP]-Madhyapradesh</option><option value="[MH]-Maharashtra">[MH]-Maharashtra</option>
      <option value="[MN]-Manipur">[MN]-Manipur</option>  <option value="[ML]-Meghalaya">[ML]-Meghalaya</option>
    <option value="[MZ]-Mizoram">[MZ]-Mizoram</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option>
     <option value="[OD]-Odisha">[OD]-Odisha</option><option value="[PY]-Puducherry">[PY]-Puducherry</option>
      <option value="[PB]-Punjab">[PB]-Punjab.</option><option value="[RL]-Rajasthan">[RL]-Rajasthan</option>
      <option value="[SK]-Sikkim">[SK]-Sikkim</option><option value="[TN]-Tamilnadu">[TN]-Tamilnadu</option>
      <option value="[TS]-Telenghana">[TS]-Telenghana</option><option value="[TR]-Tripura">[TR]-Tripura</option><option value="[UP]-Uttar Pradesh">[UP]-Uttar Pradesh</option>
      <option value="[UK]-Utharakhand">[UK]-Utharakhand</option><option value="[WB]-West Bengal">[WB]-West Bengal</option>
      <option value="[OT]-Other Territory">[OT]-Other Territory</option>
          </select>
    </div>

  <div class="form-group row mt-4">
  <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Tax</label></div>
   <div class="col-sm-12 col-md-6 col-lg-6">
        <select  id="tax" name="tax" class="form-control bg-white text-dark" style="margin-left: 11px; width: 602px;color:black;">
          <option value="GST0[0%]">GST0[0%]</option>
          <option value="GST5[5%]">GST5[5%]</option>
          <option value="GST12[12%]">GST12[12%]</option>
          <option value="GST18[18%]">GST18[18%]</option>
          <option value="GST28[28%]">GST28[28%]</option>
        </select>
    </div>

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Notes</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
        <input type="text" class="form-control bg-white text-dark" id="notes" name="notes" style="margin-left: 16px; width: 603px;color:black;">
    </div>
  </div>

    <div class="form-group row mt-4">
      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Customer Name</label></div>
       <div class="col-sm-12 col-md-6 col-lg-6">
      <div class="input-group" style="width:617px;">
        <select class="form-control" id="customername" name="customername" class="form-control bg-white text-dark" style="margin-left:15px;color:black;">
          <!-- Existing options -->
        </select>
        <div class="input-group-append">
          <button class="btn btn-primary" type="button" id="addVendorButton" onclick="window.location.href='{% url 'add_customer' %}'" style="height:38px;">Add new customer</button>
        </div>
      </div>
      
      <div class="form-group row mt-4">
        <!-- Add a hidden input field for the activation tag with value "active" -->
        <input type="hidden" name="activation_tag" value="active">
    </div>
    <br><br>
    <div class="form-group" style="margin-left:200px;display:flex;">
        <button type="submit" class="btn btn-primary">Save</button>&nbsp;&nbsp;
        <button type="button" class="btn btn-secondary" onclick="window.location.href='{% url 'recurringbase' %}'" style="color:orangered;">Cancel</button>
    </div>
</form>
</div>
</div>
<script>
  var goodsRadio = document.getElementById('expense_type1');
  var goodsBottom = document.getElementById('goods-bottom');
  
  goodsRadio.addEventListener('change', function() {
    if (this.checked) {
      goodsBottom.style.display = 'block';
      servicesBottom.style.display = 'none';
    }
  });

  var servicesRadio = document.getElementById('expense_type2');
  var servicesBottom = document.getElementById('services-bottom');
  
  servicesRadio.addEventListener('change', function() {
    if (this.checked) {
      goodsBottom.style.display = 'none';
      servicesBottom.style.display = 'block';
    }
  });
</script>
<script>
  function validateGSTNumber(gstNumber) {
    // Regular expression to validate GST number
    var gstRegex = /^([0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1})$/;

    // Check if the entered GST number matches the regex pattern
    if (!gstRegex.test(gstNumber)) {
      alert("Invalid GST number. Please enter a valid GST number.");
      return false;
    }
    return true;
  }

  function validateForm() {
    var gstTreatment = document.getElementById("gst").value;

    // Check if the selected GST treatment requires GST number validation
    if (gstTreatment !== "Unregistered Business-not Registered under GST") {
      var gstNumber = document.getElementById("textbox").value;
      return validateGSTNumber(gstNumber);
    }

    return true;
  }
</script>
<script>
  // Fetch previously added account names
  fetch('{% url 'get_account_names' %}')
    .then(response => response.json())
    .then(data => {
      const expenseAccountDropdown = document.getElementById('expense_account');

      // Populate the dropdown with account names
      data.forEach(accountName => {
        const option = document.createElement('option');
        option.value = accountName;
        option.textContent = accountName;
        expenseAccountDropdown.appendChild(option);
      });
    })
    .catch(error => console.error(error));
</script>

<script>
  function toggleTextBox() {
    var gstTreatment = document.getElementById("gst").value;
    var textboxContainer = document.getElementById("textboxContainer");
    var textbox = document.getElementById("textbox");

    if (gstTreatment !== "Unregistered Business-not Registered under GST") {
      textboxContainer.style.display = "block";
      textbox.value = getGstNumber();
    } else {
      textboxContainer.style.display = "none";
      textbox.value = "";
    }
  }

  function getGstNumber() {
    var vendorSelect = document.getElementById("vendor");
    var selectedVendorId = vendorSelect.value;
    var selectedVendorOption = vendorSelect.options[vendorSelect.selectedIndex];
    var gstNumber = selectedVendorOption.getAttribute("data-gst-number");
    return gstNumber;
  }

  function updateGstNumber() {
    var textbox = document.getElementById("textbox");
    textbox.value = getGstNumber();
  }
</script>

<script>
  function validateHSN(input) {
    const hsnValue = input.value.trim();
    const hsnError = document.getElementById('hsn-error');
  
    if (hsnValue.length === 6 && /^[0-9]+$/.test(hsnValue)) {
      hsnError.textContent = '';
    } else {
      hsnError.textContent = 'Please enter a valid 6-digit number.';
    }
  }
  </script>

<script>
  // Get the dropdown element
  const customerDropdown = document.getElementById('customername');

  // Function to fetch customer names and update the dropdown
  function fetchCustomerNames() {
    // Make an AJAX request to the server to fetch the customer names
    fetch('/get_customer_names')
      .then(response => response.json())
      .then(data => {
        // Clear existing options
        customerDropdown.innerHTML = '';

        // Add new options based on fetched customer names
        data.forEach(customer => {
          const option = document.createElement('option');
          option.value = customer.id; // Set the appropriate value for the option
          option.textContent = customer.name; // Set the customer name as the option text
          customerDropdown.appendChild(option);
        });
      })
      .catch(error => {
        console.error('Error:', error);
      });
  }

  // Add click event listener to the "Add new customer" button
  const addCustomerButton = document.getElementById('addVendorButton');
  addCustomerButton.addEventListener('click', () => {
    window.location.href = '{% url 'add_customer' %}';
  });

  // Fetch customer names when the page loads
  fetchCustomerNames();
</script>

<script>
  // Disable the 'ends_on' field when 'never_expire' checkbox is checked
  const neverExpireCheckbox = document.getElementById('never_expire');
  const endsOnInput = document.getElementById('ends_on');
  
  neverExpireCheckbox.addEventListener('change', function() {
      if (neverExpireCheckbox.checked) {
          endsOnInput.disabled = true;
      } else {
          endsOnInput.disabled = false;
      }
  });
</script>


   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

 
{% endblock %}